var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n),n("5Lw4W"),n("cGnXR");var i=n("jQOIO"),o=n("8h1Dk"),l=n("3GqKF");const a=document.querySelector(".spinner-box"),s=JSON.parse(localStorage.getItem("movies-watched"))||[],c=document.querySelector(".main-section"),d=document.querySelector(".queue"),u=document.querySelector(".watched");let m=[];function p(){m=[],c.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-queue"))||[];y(e),d.removeEventListener("click",p),u.addEventListener("click",g)}function g(){m=[],c.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-watched"))||[];y(e),u.removeEventListener("click",g),d.addEventListener("click",p)}async function f(e){let t=`https://api.themoviedb.org/3/movie/${e}`;try{let e=await (0,i.fetchApi)(t,{api_key:"95f474a01cc4252905d63c7d958d5749",language:"en-US"}),r=await e.data;(function(e){let t=[];e.genres.forEach(e=>{t.push(e.name)});let r=document.createElement("div");r.classList.add("film-poster"),r.setAttribute("value",e.id),r.addEventListener("click",t=>{"svg"!==t.target.localName&&"button"!==t.target.localName&&(0,l.drawModal)(e.id)}),r.innerHTML=`<img class="film-poster__photo" src="https://image.tmdb.org/t/p/original${e.poster_path}" alt="${e.title}" loading="lazy"/>`;let n=document.createElement("div");n.classList.add("film-poster__description");let i=document.createElement("button");i.classList.add("film-poster__button"),i.setAttribute("type","button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>',i.addEventListener("click",t=>{(0,o.getTrailerKey)(e.id).then(e=>{(0,o.showTrailer)(e)})}),n.insertAdjacentElement("afterbegin",i),n.insertAdjacentHTML("beforeend",` <p class="film-poster__title">
              ${e.title}
            </p><br />
            <p class="film-poster__genre">
              ${t.join(", ")} |
            </p>
            <p class="film-poster__year">
              ${e.release_date.substring(0,4)}
            </p>
          </div>
        </div>`),r.insertAdjacentElement("beforeend",n),m.push(r)})(r),c.append(...m)}catch(e){console.log(e.message)}}function y(e){e.forEach(e=>{f(e)})}d.addEventListener("click",p),u.addEventListener("click",g);const b=document.querySelectorAll(".navigation__item"),v=document.querySelector(".my-library"),h=document.querySelector(".header");document.querySelector(".banner");const L=document.querySelector(".search-form"),_=document.querySelectorAll(".library__button"),S=document.querySelector(".watched"),q=document.querySelector(".queue");for(const e of b)e.classList.toggle("is-active");for(const e of(""===v.innerHTML&&v.classList.add("is-empty"),h.classList.toggle("header-library"),L.classList.add("is-hidden"),document.querySelector(".banner-library").style.display="block",document.querySelector(".banner").style.display="none",_))e.classList.toggle("is-hidden"),e.addEventListener("click",e=>{let t=[...e.target.classList],r=t.some(e=>"library__button--current"===e);r||(S.classList.toggle("library__button--current"),q.classList.toggle("library__button--current"))});a.classList.add("spinner-box--hidden"),y(s);//# sourceMappingURL=my-library.5e54bfd9.js.map

//# sourceMappingURL=my-library.5e54bfd9.js.map
