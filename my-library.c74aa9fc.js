var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},r=e.parcelRequired7c6;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in i){var r=i[e];delete i[e];var s={id:e,exports:{}};return t[e]=s,r.call(s.exports,s,s.exports),s.exports}var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){i[e]=t},e.parcelRequired7c6=r),r("5Lw4W"),r("cGnXR");var s=r("jQOIO"),n=r("8h1Dk"),l=r("3GqKF");const o=document.querySelector(".spinner-box"),a=JSON.parse(localStorage.getItem("movies-watched"))||[],c=document.querySelector(".main-section"),d=document.querySelector(".queue"),u=document.querySelector(".watched"),m=document.querySelector(".error-library"),g=document.querySelector(".my-library");let p=[];function h(){m.classList.add("is-hidden"),g.classList.remove("is-hidden"),p=[],c.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-queue"))||[];0===e.length&&(m.classList.remove("is-hidden"),g.classList.add("is-hidden")),v(e),d.removeEventListener("click",h),u.addEventListener("click",y)}function y(){m.classList.add("is-hidden"),g.classList.remove("is-hidden"),p=[],c.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-watched"))||[];0===e.length&&(m.classList.remove("is-hidden"),g.classList.add("is-hidden")),v(e),u.removeEventListener("click",y),d.addEventListener("click",h)}async function f(e){let t=`https://api.themoviedb.org/3/movie/${e}`;try{let e=await (0,s.fetchApi)(t,{api_key:"95f474a01cc4252905d63c7d958d5749",language:"en-US"}),i=await e.data;(function(e){let t=[];e.genres.forEach(e=>{t.push(e.name)});let i=document.createElement("div");i.classList.add("film-poster"),i.setAttribute("value",e.id),i.addEventListener("click",t=>{"svg"!==t.target.localName&&"button"!==t.target.localName&&(0,l.drawModal)(e.id)}),i.innerHTML=`<img class="film-poster__photo" src="https://image.tmdb.org/t/p/original${e.poster_path}" alt="${e.title}" loading="lazy"/>`;let r=document.createElement("div");r.classList.add("film-poster__description");let s=document.createElement("button");s.classList.add("film-poster__button"),s.setAttribute("type","button"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>',s.addEventListener("click",t=>{(0,n.getTrailerKey)(e.id).then(e=>{(0,n.showTrailer)(e)})}),r.insertAdjacentElement("afterbegin",s),r.insertAdjacentHTML("beforeend",` <p class="film-poster__title">
              ${e.title}
            </p><br />
            <p class="film-poster__genre">
              ${t.join(", ")} |
            </p>
            <p class="film-poster__year">
              ${e.release_date.substring(0,4)}
            </p>
          </div>
        </div>`),i.insertAdjacentElement("beforeend",r),p.push(i)})(i),c.append(...p)}catch(e){console.log(e.message)}}function v(e){e.forEach(e=>{f(e)})}d.addEventListener("click",h),u.addEventListener("click",y),(0,r("iB7wN").checkAndChangeTheme)();const L=document.querySelectorAll(".navigation__item"),b=document.querySelector(".my-library"),_=document.querySelector(".header");document.querySelector(".banner");const S=document.querySelector(".search-form"),q=document.querySelectorAll(".library__button"),w=document.querySelector(".watched"),E=document.querySelector(".queue");for(const e of L)e.classList.toggle("is-active");for(const e of(""===b.innerHTML&&b.classList.add("is-empty"),_.classList.toggle("header-library"),S.classList.add("is-hidden"),document.querySelector(".banner-library").style.display="block",document.querySelector(".banner").style.display="none",q))e.classList.toggle("is-hidden"),e.addEventListener("click",e=>{let t=[...e.target.classList],i=t.some(e=>"library__button--current"===e);i||(w.classList.toggle("library__button--current"),E.classList.toggle("library__button--current"))});o.classList.add("spinner-box--hidden"),0===a.length&&(m.classList.remove("is-hidden"),g.classList.add("is-hidden")),v(a);//# sourceMappingURL=my-library.c74aa9fc.js.map

//# sourceMappingURL=my-library.c74aa9fc.js.map
