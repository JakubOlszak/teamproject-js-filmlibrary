var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var o=Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=n),n("5Lw4W");var i=n("jQOIO"),o=n("8h1Dk"),l=n("3GqKF");const s=JSON.parse(localStorage.getItem("movies-watched"))||[],a=document.querySelector(".main-section"),c=document.querySelector(".queue"),d=document.querySelector(".watched");let u=[];function m(){u=[],a.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-queue"))||[];f(e),c.removeEventListener("click",m),d.addEventListener("click",g)}function g(){u=[],a.innerHTML="";let e=JSON.parse(localStorage.getItem("movies-watched"))||[];f(e),d.removeEventListener("click",g),c.addEventListener("click",m)}async function p(e){let t=`https://api.themoviedb.org/3/movie/${e}`;try{let e=await (0,i.fetchApi)(t,{api_key:"95f474a01cc4252905d63c7d958d5749",language:"en-US"});(function(e){let t=[];e.genres.forEach(e=>{t.push(e.name)});let r=document.createElement("div");r.classList.add("film-poster"),r.setAttribute("value",e.id),r.addEventListener("click",t=>{"svg"!==t.target.localName&&"button"!==t.target.localName&&(0,l.drawModal)(e.id)}),r.innerHTML=`<img class="film-poster__photo" src="https://image.tmdb.org/t/p/original${e.poster_path}" alt="${e.title}" loading="lazy"/>`;let n=document.createElement("div");n.classList.add("film-poster__description");let i=document.createElement("button");i.classList.add("film-poster__button"),i.setAttribute("type","button"),i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"/></svg>',i.addEventListener("click",t=>{(0,o.getTrailerKey)(e.id).then(e=>{(0,o.showTrailer)(e)})}),n.insertAdjacentElement("afterbegin",i),n.insertAdjacentHTML("beforeend",` <p class="film-poster__title">
              ${e.title}
            </p><br />
            <p class="film-poster__genre">
              ${t.join(", ")} |
            </p>
            <p class="film-poster__year">
              ${e.release_date.substring(0,4)}
            </p>
          </div>
        </div>`),r.insertAdjacentElement("beforeend",n),u.push(r)})(e),a.append(...u)}catch(e){console.log(e.message)}}function f(e){e.forEach(e=>{p(e)})}c.addEventListener("click",m),d.addEventListener("click",g);const v=document.querySelectorAll(".navigation__item"),h=document.querySelector(".my-library"),y=document.querySelector(".header"),L=document.querySelector(".search-form"),b=document.querySelectorAll(".library__button"),_=document.querySelector(".watched"),w=document.querySelector(".queue");for(const e of v)e.classList.toggle("is-active");for(const e of(""===h.innerHTML&&h.classList.add("is-empty"),y.classList.toggle("header-library"),L.classList.add("is-hidden"),b))e.classList.toggle("is-hidden"),e.addEventListener("click",e=>{let t=[...e.target.classList],r=t.some(e=>"library__button--current"===e);r||(_.classList.toggle("library__button--current"),w.classList.toggle("library__button--current"))});f(s);//# sourceMappingURL=my-library.bf8b04bc.js.map

//# sourceMappingURL=my-library.bf8b04bc.js.map
